# 섹션 08. 예외 처리와 오류 페이지
## 01. 서블릿 예외 처리 - 시작
#### 서블릿의 에외 처리 2가지 방식
- `Exception(예외)`
- `response.sendError(HTTP 상태 코드, 오류 메시지)`  
<br/>

### Exception(예외)
#### 자바 직접 실행
- 자바의 메인 메서드 직접 실행시 `main`이라는 이름의 쓰레드가 실행됨
- 실행 도중 예외를 찾지 못하고 `main()`메서드를 넘어 예외가 던져지면 `예외 정보`를 남기고 해당 쓰레드가 종료됨  
<br/>

#### 웹 애플리케이션
- 사용자 요청별로 별도의 쓰레드가 할당, 서블릿 컨테이너 안에서 실행됨
- 애플리케이션에서 예외를 잡지 못하고 서블릿 밖으로 예외가 전달될 경우
  - `컨트롤러(예외발생) -> 인터셉터 -> 서블릿 -> 필터 -> WAS(여기까지 전파)` 이렇게 동작함  
<br/>

### response.sendError(HTTP 상태 코드, 오류 메시지)
- 오류 발생시 `HttpServletResponse`가 제공하는 `sendError`라는 메서드를 사용하면 됨
  - 호출한다고 당장 예외가 발생하는 건 아님
  - 서블릿 컨테이너에게 오류 발생을 알릴 수 있음
    - HTTP 상태 코드와 오류 메시지를 추가할 수 있음
      - `response.sendError(HTTP 상태 코드)`
      - `response.sendError(HTTP 상태 코드, 오류 메시지)`  
<br/>

#### sendError 흐름
```
컨트롤러(response.sendError()) -> 인터셉터 -> 서블릿 -> 필터 -> WAS(sendError 호출 기록 확인)
```
- `response.sendError()` 호출시 `response` 내부에 오류 발생 상태를 저장함
- 서블릿 컨테이너는 사용자에게 응답 전 `reponse`에 `sendError()` 호출 여부를 확인함
  - 호출 되었다면 설정한 오류 코드에 맞춰 기본 오류 페이지를 보여줌